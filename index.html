<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ver cámara trasera a pantalla completa</title>
 
<style>
  body {
    /* Quitamos márgenes a la página */
    margin: 0px;
  }
  video {
    /* El vídeo ocupará TODA la pantalla */
    width: 100vw;
    height: 100vh;
    /* Mejor relleno */
    object-fit: cover;
    /* Enviamos el componente al fondo */
    position: absolute;
    z-index: -1;
  }
  #chatdevoz {
    width: 100vw;
    height: 100vh;
    border: 0px;
  }
  #chatdevoz.ocultar {
    width: 2px;
    height: 2px;
  }
  ocultarchat.ocultar {
    display: none;
  }
</style>
</head>
 
<body>
 <video autoplay="true" onclick="pantallaCompleta();"></video>
 <button onclick="ocultarChat();" id="ocultarchat">Ocultar chat</button><br/>
 <iframe src="https://www.speechchat.com/" id="chatdevoz"></iframe>
<script>
/* Buscamos el elemento de vídeo */
var video = document.querySelector("video");
var ocultarchat = document.querySelector("#ocultarchat");
var chatdevoz = document.querySelector("#chatdevoz");

/* Si el navegador lo soporta, obtenemos el elemento de cámara */
if (navigator.mediaDevices.getUserMedia) {
  navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } })
    .then(function (stream) {
      video.srcObject = stream;
    })
    .catch(function () {
      console.log("Algo ha ido mal");
    });
}
function pantallaCompleta() {
  console.log('Entrando en pantalla completa');
  if (video.requestFullscreen) {
    video.requestFullscreen();
  } else if (video.webkitRequestFullscreen) {
    video.webkitRequestFullscreen();
  } else if (video.msRequestFullscreen) {
    video.msRequestFullscreen();
  }
}
function ocultarChat() {
  console.log('Ocultando chat de voz');
  ocultarchat.classList.add('ocultar');
  chatdevoz.classList.add('ocultar');
}
</script>
</body>
</html>
